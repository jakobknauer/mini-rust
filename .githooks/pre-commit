#!/usr/bin/env bash
set -e

# Go to repo root
cd "$(git rev-parse --show-toplevel)"

if ! cargo check --quiet; then
  echo "❌ cargo check failed"
  exit 1
fi

if ! cargo fmt -- --check --quiet; then
  echo "❌ cargo fmt check failed"
  exit 1
fi

exit 0
